"use client";

import React from "react";
import Link from "next/link";
import { usePathname } from "next/navigation";

interface SidebarNavItemProps {
    name: string;
    href: string;
    icon: string;
}

const iconMap: Record<string, React.ReactNode> = {
    demandForecast: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M2.5 17.5L7.5 10.8333L11.6667 14.1667L17.5 5.83333"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M14.1667 5.83333H17.5V9.16667"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    overview: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M6.66667 10H3.33333C2.8731 10 2.5 10.3731 2.5 10.8333V16.6667C2.5 17.1269 2.8731 17.5 3.33333 17.5H6.66667C7.1269 17.5 7.5 17.1269 7.5 16.6667V10.8333C7.5 10.3731 7.1269 10 6.66667 10Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M16.6667 2.5H13.3333C12.8731 2.5 12.5 2.8731 12.5 3.33333V16.6667C12.5 17.1269 12.8731 17.5 13.3333 17.5H16.6667C17.1269 17.5 17.5 17.1269 17.5 16.6667V3.33333C17.5 2.8731 17.1269 2.5 16.6667 2.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M6.66667 2.5H3.33333C2.8731 2.5 2.5 2.8731 2.5 3.33333V6.66667C2.5 7.1269 2.8731 7.5 3.33333 7.5H6.66667C7.1269 7.5 7.5 7.1269 7.5 6.66667V3.33333C7.5 2.8731 7.1269 2.5 6.66667 2.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    products: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M17.5 5.83333L10 2.5L2.5 5.83333L10 9.16667L17.5 5.83333ZM17.5 5.83333V14.1667L10 17.5M2.5 5.83333V14.1667L10 17.5"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    expiryRadar: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <circle
                cx="10"
                cy="10"
                r="8.33"
                stroke="currentColor"
                strokeWidth="1.67"
            />
            <circle
                cx="10"
                cy="10"
                r="5"
                stroke="currentColor"
                strokeWidth="1.67"
            />
            <circle
                cx="10"
                cy="10"
                r="1.67"
                stroke="currentColor"
                strokeWidth="1.67"
            />
            <path
                d="M10 1.67V10L15.5 4.5"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    transactions: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M2.5 3.33333H17.5M4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.25 17.5 4.16667 17.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M6.66667 5.83333H13.3333M6.66667 8.33333H13.3333M6.66667 10.8333H10"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    supplier: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M13.3333 17.5V4.16667C13.3333 3.24619 12.5871 2.5 11.6667 2.5H4.16667C3.24619 2.5 2.5 3.24619 2.5 4.16667V17.5M13.3333 17.5H2.5M13.3333 17.5H17.5M2.5 17.5H0.833336M13.3333 7.5H15.8333C16.7538 7.5 17.5 8.24619 17.5 9.16667V17.5M17.5 17.5H19.1667M5.83334 5.83333H8.33334M5.83334 9.16667H8.33334"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    category: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M2.5 5C2.5 3.61929 3.61929 2.5 5 2.5H7.5C8.88071 2.5 10 3.61929 10 5V7.5C10 8.88071 8.88071 10 7.5 10H5C3.61929 10 2.5 8.88071 2.5 7.5V5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M10 12.5C10 11.1193 11.1193 10 12.5 10H15C16.3807 10 17.5 11.1193 17.5 12.5V15C17.5 16.3807 16.3807 17.5 15 17.5H12.5C11.1193 17.5 10 16.3807 10 15V12.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M10 5C10 3.61929 11.1193 2.5 12.5 2.5H15C16.3807 2.5 17.5 3.61929 17.5 5V7.5C17.5 8.88071 16.3807 10 15 10H12.5C11.1193 10 10 8.88071 10 7.5V5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M2.5 12.5C2.5 11.1193 3.61929 10 5 10H7.5C8.88071 10 10 11.1193 10 12.5V15C10 16.3807 8.88071 17.5 7.5 17.5H5C3.61929 17.5 2.5 16.3807 2.5 15V12.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    warehouse: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M2.5 17.5V7.5L10 2.5L17.5 7.5V17.5M2.5 17.5H17.5M2.5 17.5H0.833336M17.5 17.5H19.1667M5.83334 10H14.1667M5.83334 13.3333H14.1667"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    payment: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M17.5 8.33333H2.5M9.16667 11.6667H5.83333M2.5 6.5L2.5 13.5C2.5 14.4319 2.5 14.8978 2.68166 15.2654C2.84144 15.5903 3.09641 15.8459 3.42096 16.0065C3.78782 16.1889 4.25295 16.1889 5.18322 16.1889H14.8168C15.747 16.1889 16.2122 16.1889 16.579 16.0065C16.9036 15.8459 17.1586 15.5903 17.3183 15.2654C17.5 14.8978 17.5 14.4319 17.5 13.5V6.5C17.5 5.56812 17.5 5.10218 17.3183 4.73463C17.1586 4.40973 16.9036 4.15412 16.579 3.99349C16.2122 3.81111 15.747 3.81111 14.8168 3.81111H5.18322C4.25295 3.81111 3.78782 3.81111 3.42096 3.99349C3.09641 4.15412 2.84144 4.40973 2.68166 4.73463C2.5 5.10218 2.5 5.56812 2.5 6.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    roles: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M10 10C12.3012 10 14.1667 8.13452 14.1667 5.83333C14.1667 3.53214 12.3012 1.66667 10 1.66667C7.69882 1.66667 5.83334 3.53214 5.83334 5.83333C5.83334 8.13452 7.69882 10 10 10ZM10 10C5.39763 10 1.66667 13.731 1.66667 18.3333M10 10C14.6024 10 18.3333 13.731 18.3333 18.3333"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    support: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M7.57501 7.50001C7.77093 6.94306 8.15764 6.47343 8.66664 6.17428C9.17564 5.87514 9.7741 5.76579 10.3559 5.86561C10.9378 5.96542 11.4657 6.26795 11.8459 6.71961C12.2261 7.17127 12.4342 7.7435 12.4333 8.33334C12.4333 10 9.93334 10.8333 9.93334 10.8333M10 14.1667H10.0083M18.3333 10C18.3333 14.6024 14.6024 18.3333 10 18.3333C5.39763 18.3333 1.66667 14.6024 1.66667 10C1.66667 5.39763 5.39763 1.66667 10 1.66667C14.6024 1.66667 18.3333 5.39763 18.3333 10Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
    settings: (
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
            <path
                d="M16.1667 12.5C16.0557 12.7513 16.0226 13.0302 16.0716 13.3005C16.1206 13.5708 16.2495 13.8203 16.4417 14.0167L16.4917 14.0667C16.6466 14.2215 16.7695 14.4053 16.8533 14.6076C16.9372 14.81 16.9805 15.0268 16.9805 15.2458C16.9805 15.4649 16.9372 15.6817 16.8533 15.884C16.7695 16.0864 16.6466 16.2702 16.4917 16.425C16.3368 16.5799 16.153 16.7028 15.9507 16.7866C15.7484 16.8705 15.5315 16.9138 15.3125 16.9138C15.0935 16.9138 14.8766 16.8705 14.6743 16.7866C14.472 16.7028 14.2882 16.5799 14.1333 16.425L14.0833 16.375C13.887 16.1828 13.6374 16.0539 13.3671 16.0049C13.0968 15.9559 12.818 15.989 12.5667 16.1C12.3203 16.2056 12.1124 16.3811 11.9674 16.6047C11.8225 16.8283 11.7469 17.0902 11.75 17.3575V17.5C11.75 17.942 11.5744 18.366 11.2618 18.6785C10.9493 18.9911 10.5254 19.1667 10.0833 19.1667C9.64131 19.1667 9.21739 18.9911 8.90483 18.6785C8.59227 18.366 8.41667 17.942 8.41667 17.5V17.4242C8.41392 17.1476 8.32872 16.8783 8.17218 16.6518C8.01564 16.4252 7.79492 16.2515 7.53584 16.1533C7.28449 16.0423 7.00566 16.0092 6.73539 16.0582C6.46512 16.1073 6.21558 16.2361 6.01917 16.4283L5.96917 16.4783C5.81433 16.6332 5.63054 16.7561 5.42822 16.84C5.22591 16.9238 5.00907 16.9672 4.79 16.9672C4.57094 16.9672 4.3541 16.9238 4.15178 16.84C3.94947 16.7561 3.76568 16.6332 3.61084 16.4783C3.45596 16.3235 3.33302 16.1397 3.24917 15.9374C3.16532 15.7351 3.12202 15.5182 3.12202 15.2992C3.12202 15.0801 3.16532 14.8633 3.24917 14.6609C3.33302 14.4586 3.45596 14.2748 3.61084 14.12L3.66084 14.07C3.85301 13.8736 3.98185 13.6241 4.03088 13.3538C4.07991 13.0835 4.04679 12.8047 3.93584 12.5533C3.83019 12.307 3.65466 12.099 3.43108 11.954C3.2075 11.8091 2.94564 11.7336 2.67834 11.7367H2.53584C2.09381 11.7367 1.66989 11.5611 1.35733 11.2485C1.04477 10.9359 0.869171 10.512 0.869171 10.07C0.869171 9.62796 1.04477 9.20404 1.35733 8.89148C1.66989 8.57892 2.09381 8.40332 2.53584 8.40332H2.61167C2.88827 8.40057 3.15756 8.31537 3.3841 8.15883C3.61064 8.00229 3.78434 7.78157 3.88251 7.52249C3.99346 7.27114 4.02658 6.99231 3.97755 6.72204C3.92853 6.45177 3.79968 6.20222 3.60751 6.00582L3.55751 5.95582C3.40263 5.80098 3.27969 5.61719 3.19584 5.41487C3.11199 5.21255 3.06869 4.99572 3.06869 4.77665C3.06869 4.55759 3.11199 4.34075 3.19584 4.13843C3.27969 3.93612 3.40263 3.75233 3.55751 3.59749C3.71235 3.44261 3.89614 3.31967 4.09845 3.23582C4.30077 3.15197 4.51761 3.10867 4.73667 3.10867C4.95574 3.10867 5.17258 3.15197 5.37489 3.23582C5.57721 3.31967 5.761 3.44261 5.91584 3.59749L5.96584 3.64749C6.16224 3.83966 6.41179 3.9685 6.68206 4.01753C6.95233 4.06656 7.23115 4.03344 7.48251 3.92249H7.53584C7.78213 3.81684 7.99017 3.64131 8.13513 3.41773C8.28009 3.19415 8.35565 2.93229 8.35251 2.66499V2.53582C8.35251 2.0938 8.5281 1.66987 8.84066 1.35731C9.15322 1.04475 9.57715 0.869156 10.0192 0.869156C10.4612 0.869156 10.8851 1.04475 11.1977 1.35731C11.5102 1.66987 11.6858 2.0938 11.6858 2.53582V2.61166C11.6827 2.87895 11.7583 3.14081 11.9032 3.3644C12.0482 3.58798 12.2562 3.76351 12.5025 3.86916C12.7539 3.98011 13.0327 4.01323 13.303 3.9642C13.5733 3.91517 13.8228 3.78633 14.0192 3.59416L14.0692 3.54416C14.224 3.38928 14.4078 3.26634 14.6101 3.18249C14.8124 3.09864 15.0293 3.05534 15.2483 3.05534C15.4674 3.05534 15.6843 3.09864 15.8866 3.18249C16.0889 3.26634 16.2727 3.38928 16.4275 3.54416C16.5824 3.699 16.7054 3.88279 16.7892 4.0851C16.8731 4.28742 16.9164 4.50426 16.9164 4.72332C16.9164 4.94239 16.8731 5.15922 16.7892 5.36154C16.7054 5.56386 16.5824 5.74765 16.4275 5.90249L16.3775 5.95249C16.1854 6.14889 16.0565 6.39844 16.0075 6.66871C15.9585 6.93898 15.9916 7.21781 16.1025 7.46916V7.52249C16.2082 7.76878 16.3837 7.97682 16.6073 8.12178C16.8309 8.26675 17.0927 8.3423 17.36 8.33916H17.5C17.942 8.33916 18.366 8.51475 18.6785 8.82731C18.9911 9.13987 19.1667 9.5638 19.1667 10.0058C19.1667 10.4479 18.9911 10.8718 18.6785 11.1843C18.366 11.4969 17.942 11.6725 17.5 11.6725H17.4242C17.1569 11.6756 16.895 11.7512 16.6714 11.8962C16.4479 12.0411 16.2723 12.2492 16.1667 12.4955V12.5Z"
                stroke="currentColor"
                strokeWidth="1.67"
                strokeLinecap="round"
                strokeLinejoin="round"
            />
        </svg>
    ),
};

export default function SidebarNavItem({
    name,
    href,
    icon,
}: SidebarNavItemProps) {
    const pathname = usePathname();
    const isActive = pathname === href;

    return (
        <Link
            href={href}
            className={`
        flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors duration-200
        focus:outline-none focus-visible:ring-2 focus-visible:ring-[#6941C6] focus-visible:ring-offset-2
        ${isActive
                    ? "bg-[#F4EBFF] text-[#6941C6]"
                    : "text-[#667085] hover:bg-gray-50 hover:text-[#101828]"
                }
      `}
            aria-current={isActive ? "page" : undefined}
        >
            <span className="flex-shrink-0">{iconMap[icon] || iconMap.overview}</span>
            <span className="text-sm font-medium">{name}</span>
        </Link>
    );
}
